(this.webpackJsonpwallet=this.webpackJsonpwallet||[]).push([[0],{32:function(e,t,a){e.exports=a(52)},37:function(e,t,a){},45:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=a(17),o=(a(37),a(11)),u=a(9),s=a(10),m=a(13),d=a(12),p=a(2),h=a(8),b=a.n(h),E=a(15),v=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://economia.awesomeapi.com.br/json/all",e.abrupt("return",fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e,t){return{type:"SAVE_INFO",info:e,coins:t}},j=(a(45),/\S+@\S+\.\S+/),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).validationEmail=function(t){var a=t.target.value;e.setState({email:a,isValidationEmail:j.test(a)}),e.validationBtnClick()},e.validatePassword=function(t){var a=t.target.value,n=a.length;e.setState({password:a,isValidationPass:6<=n},(function(){return e.validationBtnClick()}))},e.validationBtnClick=function(){var t=e.state,a=t.isValidationEmail,n=t.isValidationPass;e.setState({validationBtn:!(!0===a&&!0===n)})},e.state={email:"",password:"",isValidationEmail:!1,isValidationPass:!1,validationBtn:!0},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.saveUser,t=this.state,a=t.email,n=t.password,c=t.validationBtn;return r.a.createElement("div",{className:"container-main"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",{id:"trybe"},"Trybe"),r.a.createElement("h1",{id:"wallet"}," Wallet")),r.a.createElement("div",{className:"container-login"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("input",{className:"input-login",placeholder:"Email",type:"email","data-testid":"email-input",onChange:this.validationEmail,value:a,name:"email"})),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("input",{className:"input-login",placeholder:"Senha",type:"password","data-testid":"password-input",onChange:this.validatePassword,value:n,name:"password"})),r.a.createElement(i.b,{to:"/carteira"},r.a.createElement("button",{className:"button-login",onClick:function(){return e(a)},type:"button",disabled:c},"Entrar"))))}}]),a}(r.a.Component),y=Object(o.b)(null,(function(e){return{saveUser:function(t){return e(function(e){return{type:"NEW_USER",email:e}}(t))}}}))(O),g=a(20),w=(a(49),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleUpdate=function(){return e.props.expenses.reduce((function(e,t){return Number(t.value*t.exchangeRates[t.currency].ask)+e}),0).toFixed(2)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.requestCurrencies)()}},{key:"render",value:function(){var e=this.props.email;return r.a.createElement("div",{className:"container-header"},r.a.createElement("h2",{className:"title"},"TrybeWallet"),r.a.createElement("p",{id:"total-despensa","data-testid":"total-field"},"Total Dispensa: ",this.handleUpdate()," BRL"),r.a.createElement("p",{id:"email","data-testid":"email-field"},e))}}]),a}(r.a.Component)),N=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}),(function(e){return{requestCurrencies:function(){return e(function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:a=e.sent,n=Object.keys(a).filter((function(e){return"USDT"!==e})),t({type:"GET_CURRENCIES_SUCESS",date:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"GET_CURRENCIES_FAIL",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))(w),C=(a(50),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.expenses,a=e.prevDelete;return r.a.createElement("div",null,r.a.createElement("table",{className:"container-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")),t.map((function(e){var t=e.id,n=e.description,c=e.tag,l=e.method,i=e.value,o=e.currency,u=e.exchangeRates;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,Number(i).toFixed(2)),r.a.createElement("td",null,u[o].name),r.a.createElement("td",null,Number(u[o].ask).toFixed(2)),r.a.createElement("td",null,Number(i*u[o].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"delete-btn",type:"button",onClick:function(){return a(t)},id:"button-excluir"},"Excluir")))})))))}}]),a}(r.a.Component)),x=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{prevDelete:function(t){return e(function(e){return{type:"DELETE_LINE",id:e}}(t))}}}))(C),k=(a(51),["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"]),S=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],R=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleGeneric=function(t){var a=t.target,n=a.name;e.setState(Object(g.a)({},n,a.value))},e.saveInfoUser=Object(E.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.id,n=e.props.saveInfo,e.setState({id:a+1}),n(e.state),e.setState({value:""});case 5:case"end":return t.stop()}}),t)}))),e.state={id:0,value:"",description:"",currency:"USD",method:"Dinheito",tag:"Alimenta\xe7\xe3o"},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.currencies,t=this.state,a=t.value,n=t.description,c=t.currency,l=t.method,i=t.tag;return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement("div",{className:"container-atribute"},r.a.createElement("label",{htmlFor:"value",className:"atributes"},"Valor",r.a.createElement("input",{className:"input-label","data-testid":"value-input",type:"number",onChange:this.handleGeneric,value:a,name:"value"})),r.a.createElement("label",{htmlFor:"description",className:"atributes"},"Descri\xe7\xe3o",r.a.createElement("input",{className:"input-label","data-testid":"description-input",type:"text",onChange:this.handleGeneric,value:n,name:"description"})),r.a.createElement("label",{htmlFor:"currency",className:"atributes"},"Moeda",r.a.createElement("select",{className:"input-label",id:"currency",value:c,onChange:this.handleGeneric,name:"currency","data-testid":"currency-input"},e.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"method",className:"atributes"},"M\xe9todo de pagamento",r.a.createElement("select",{className:"input-label",onChange:this.handleGeneric,value:l,name:"method","data-testid":"method-input",id:"method"},k.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"tag",className:"atributes"},"Tag",r.a.createElement("select",{className:"input-label",onChange:this.handleGeneric,value:i,name:"tag","data-testid":"tag-input",id:"tag"},S.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("div",{className:"container-buuton"},r.a.createElement("button",{type:"button",onClick:this.saveInfoUser},"Adicionar despesa")),r.a.createElement(x,null))}}]),a}(r.a.Component),U=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{saveInfo:function(t){return e(function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v();case 3:n=t.sent,a(f(e,n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(f(e,t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(R),F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/carteira",component:U}),r.a.createElement(p.a,{path:"*/",component:y}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(14),T=a(29),_=a(30),D=a(4),V={email:""};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_USER":return Object(D.a)(Object(D.a)({},e),{},{email:t.email});default:return e}},B=a(31),A={currencies:[],expenses:[]},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENCIES_SUCESS":return Object(D.a)(Object(D.a)({},e),{},{currencies:t.date});case"GET_CURRENCIES_FAIL":return Object(D.a)(Object(D.a)({},e),{},{error:t.error});case"SAVE_INFO":return Object(D.a)(Object(D.a)({},e),{},{expenses:[].concat(Object(B.a)(e.expenses),[Object(D.a)(Object(D.a)({},t.info),{},{exchangeRates:t.coins})])});case"DELETE_LINE":return Object(D.a)(Object(D.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});default:return e}},M=Object(I.combineReducers)({user:G,wallet:L}),W=Object(I.createStore)(M,Object(T.composeWithDevTools)(Object(I.applyMiddleware)(_.a)));l.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:W},r.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.73ede179.chunk.js.map